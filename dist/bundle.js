(()=>{var t={56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var o={},i=[],s=0;s<t.length;s++){var d=t[s],c=a.base?d[0]+a.base:d[0],l=o[c]||0,u="".concat(c," ").concat(l);o[c]=l+1;var h=n(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var m=r(p,a);a.byIndex=s,e.splice(s,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=a(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var s=n(o[i]);e[s].references--}for(var d=a(t,r),c=0;c<o.length;c++){var l=n(o[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=d}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},236:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n            <style>\n                form {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 10px;\n                    margin-bottom: 20px;\n                }\n                input, textarea {\n                    padding: 10px;\n                    border: 1px solid #ddd;\n                    border-radius: 5px;\n                    font-family: Arial, sans-serif;\n                }\n                textarea {\n                    min-height: 100px;\n                    resize: vertical;\n                }\n                button {\n                    padding: 10px;\n                    background: #007bff;\n                    color: white;\n                    border: none;\n                    border-radius: 5px;\n                    cursor: pointer;\n                    font-weight: bold;\n                }\n                button:hover {\n                    background: #0056b3;\n                }\n            </style>\n\n            <form id="note-form">\n                <input type="text" id="title" placeholder="Judul catatan..." required />\n                <textarea id="body" placeholder="Isi catatan..." required></textarea>\n                <button type="submit">Simpan</button>\n            </form>\n        ',this.shadowRoot.querySelector("#note-form").addEventListener("submit",(t=>{t.preventDefault();const e=this.shadowRoot.querySelector("#title").value,n=this.shadowRoot.querySelector("#body").value;this.dispatchEvent(new CustomEvent("add-note",{detail:{title:e,body:n},bubbles:!0})),this.shadowRoot.querySelector("#title").value="",this.shadowRoot.querySelector("#body").value=""}))}}customElements.define("note-form",t)},249:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var a=n(601),r=n.n(a),o=n(314),i=n.n(o)()(r());i.push([t.id,"* {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n}\n\nbody {\n    font-family: 'Roboto', sans-serif;\n    background-color: #f4f4f4;\n    color: #333;\n    line-height: 1.6;\n}\n\nmain {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\nsection {\n    background: white;\n    border-radius: 8px;\n    padding: 20px;\n    margin-bottom: 30px;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\nsection:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\nh2 {\n    color: #2DAA9E;\n    margin-bottom: 15px;\n    padding-bottom: 10px;\n    border-bottom: 2px solid #f0f0f0;\n    font-family: 'Source Serif 4', serif;\n}\n\n.loading {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(255, 255, 255, 0.8);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 24px;\n    color: #2DAA9E;\n    z-index: 9999;\n    display: none;\n}\n\n.loading:after {\n    content: '';\n    width: 50px;\n    height: 50px;\n    border: 5px solid #f3f3f3;\n    border-top: 5px solid #2DAA9E;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin-left: 10px;\n}\n\n@keyframes spin {\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n    }\n\n    to {\n        opacity: 1;\n    }\n}\n\nnote-item {\n    display: block;\n    margin-bottom: 10px;\n    animation: fadeIn 0.5s ease-in-out;\n}\n\n@media screen and (min-width: 768px) {\n    main {\n        display: grid;\n        grid-template-columns: 1fr 2fr;\n        gap: 20px;\n    }\n}\n\n@media screen and (max-width: 767px) {\n    main {\n        padding: 10px;\n    }\n\n    section {\n        padding: 15px;\n    }\n}",""]);const s=i},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(a)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);a&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},430:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML='\n            <style>\n                header {\n                    background: #2DAA9E;\n                    color: white;\n                    text-align: center;\n                    padding: 1rem;\n                    font-size: 24px;\n                    font-weight: bold;\n                    font-family: "Fascinate Inline", serif;\n                    font-style: normal;\n                }\n            </style>\n            <header>Notes App</header>\n        '}}customElements.define("app-header",t)},521:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["id","title","body"]}attributeChangedCallback(){this.render()}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML=`\n            <style>\n                .modal-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    background: rgba(0, 0, 0, 0.5);\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    z-index: 1000;\n                }\n                .modal {\n                    background: white;\n                    padding: 20px;\n                    border-radius: 8px;\n                    width: 80%;\n                    max-width: 500px;\n                    max-height: 80vh;\n                    overflow-y: auto;\n                }\n                h2 {\n                    margin-top: 0;\n                }\n                form {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 10px;\n                }\n                input, textarea {\n                    padding: 10px;\n                    border: 1px solid #ddd;\n                    border-radius: 5px;\n                }\n                textarea {\n                    min-height: 100px;\n                    resize: vertical;\n                }\n                .modal-actions {\n                    display: flex;\n                    justify-content: flex-end;\n                    gap: 10px;\n                    margin-top: 10px;\n                }\n                button {\n                    padding: 10px 15px;\n                    border: none;\n                    border-radius: 5px;\n                    cursor: pointer;\n                }\n                .save-btn {\n                    background: #007bff;\n                    color: white;\n                }\n                .cancel-btn {\n                    background: #f0f0f0;\n                }\n            </style>\n            \n            <div class="modal-overlay">\n                <div class="modal">\n                    <h2>Edit Catatan</h2>\n                    <form id="edit-form">\n                        <input type="text" id="edit-title" value="${this.getAttribute("title")||""}" placeholder="Judul catatan..." required />\n                        <textarea id="edit-body" placeholder="Isi catatan..." required>${this.getAttribute("body")||""}</textarea>\n                        <div class="modal-actions">\n                            <button type="button" class="cancel-btn">Batal</button>\n                            <button type="submit" class="save-btn">Simpan</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        `,this.shadowRoot.querySelector("#edit-form").addEventListener("submit",(t=>{t.preventDefault();const e=this.getAttribute("id"),n=this.shadowRoot.querySelector("#edit-title").value,a=this.shadowRoot.querySelector("#edit-body").value;this.dispatchEvent(new CustomEvent("save-edit",{detail:{id:e,title:n,body:a},bubbles:!0})),this.remove()})),this.shadowRoot.querySelector(".cancel-btn").addEventListener("click",(()=>{this.remove()})),this.shadowRoot.querySelector(".modal-overlay").addEventListener("click",(t=>{t.target.classList.contains("modal-overlay")&&this.remove()}))}}customElements.define("edit-modal",t)},528:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["text"]}attributeChangedCallback(t,e,n){"text"===t&&this.render()}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML=`\n            <style>\n                footer {\n                    background: #2DAA9E;\n                    color: white;\n                    text-align: center;\n                    bottom: 0;\n                    height: 30px;\n                    font-weight: bold;\n                    font-family: "Sour Gummy", serif;\n                    font-style: normal;\n                }\n            </style>\n            <footer>\n                <p>${this.getAttribute("text")||"Default Footer"}</p>\n            </footer>\n        `}}customElements.define("app-footer",t)},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{"use strict";t.exports=function(t){return t[1]}},649:()=>{class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}static get observedAttributes(){return["id","title","body","date","isArchived"]}attributeChangedCallback(){this.render()}render(){const t="true"===this.getAttribute("isArchived");this.shadowRoot.innerHTML=`\n            <style>\n                .note {\n                    padding: 10px;\n                    border-radius: 5px;\n                    background: #fff;\n                    box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n                    margin-bottom: 10px;\n                    font-family: Arial, sans-serif;\n                }\n                h3 {\n                    margin: 0 0 5px 0;\n                }\n                p {\n                    font-size: 14px;\n                    color: #555;\n                }\n                small {\n                    font-size: 12px;\n                    color: #888;\n                }\n                .note-actions {\n                    margin-top: 10px;\n                    display: flex;\n                    gap: 5px;\n                }\n                button {\n                    padding: 5px 10px;\n                    border: none;\n                    cursor: pointer;\n                    border-radius: 5px;\n                }\n                .edit-btn { background: #ffc107; }\n                .delete-btn { background: #dc3545; color: white; }\n                .archive-btn { background: ${t?"#28a745":"#007bff"}; color: white; }\n            </style>\n            <div class="note">\n                <h3>${this.getAttribute("title")}</h3>\n                <p>${this.getAttribute("body")}</p>\n                <small>${this.getAttribute("date")}</small>\n                <div class="note-actions">\n                    <button class="edit-btn">Edit</button>\n                    <button class="delete-btn">Hapus</button>\n                    <button class="archive-btn">${t?"Kembalikan":"Arsipkan"}</button>\n                </div>\n            </div>\n        `,this.shadowRoot.querySelector(".edit-btn").addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("edit-note",{detail:{id:this.getAttribute("id"),title:this.getAttribute("title"),body:this.getAttribute("body")},bubbles:!0}))})),this.shadowRoot.querySelector(".delete-btn").addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("delete-note",{detail:this.getAttribute("id"),bubbles:!0}))})),this.shadowRoot.querySelector(".archive-btn").addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("toggle-archive-note",{detail:{id:this.getAttribute("id"),isArchived:t},bubbles:!0}))}))}}customElements.define("note-item",t)},659:t=>{"use strict";var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={id:a,exports:{}};return t[a](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";n(430),n(528),n(236),n(649),n(521);const t="https://notes-api.dicoding.dev/v2",e=new class{constructor(){this.authToken=localStorage.getItem("authToken"),this.authToken||this.registerUser()}async registerUser(){try{const e=await fetch(`${t}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Raichan Notes User",email:`raichan_${Date.now()}@example.com`,password:"password123"})}),n=await e.json();if("success"!==n.status)throw new Error(n.message);await this.login(n.data.user.email)}catch(t){console.error("Gagal mendaftarkan pengguna:",t),alert(`Gagal mendaftarkan pengguna: ${t.message}`)}}async login(e){try{const n=await fetch(`${t}/authentications`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:"password123"})}),a=await n.json();if("success"!==a.status)throw new Error(a.message);this.authToken=a.data.accessToken,localStorage.setItem("authToken",this.authToken)}catch(t){console.error("Gagal login:",t),alert(`Gagal login: ${t.message}`)}}async getNotes(){try{if(!this.authToken&&(console.warn("Token tidak ditemukan, mencoba mendaftarkan ulang..."),await this.registerUser(),!this.authToken))throw new Error("Tidak dapat mendapatkan token autentikasi");const e=await fetch(`${t}/notes`,{headers:{Authorization:`Bearer ${this.authToken}`}}),n=await e.json();if("success"!==n.status)throw new Error(n.message);return n.data}catch(t){return console.error("Gagal mengambil catatan:",t),alert(`Gagal mengambil catatan: ${t.message}`),{notes:[]}}}async addNote(e,n){try{const a=await fetch(`${t}/notes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`},body:JSON.stringify({title:e,body:n})}),r=await a.json();if("success"!==r.status)throw new Error(r.message);return r.data}catch(t){return console.error("Gagal menambahkan catatan:",t),alert(`Gagal menambahkan catatan: ${t.message}`),null}}async getNote(e){try{const n=await fetch(`${t}/notes/${e}`,{headers:{Authorization:`Bearer ${this.authToken}`}}),a=await n.json();if("success"!==a.status)throw new Error(a.message);return a.data}catch(t){return console.error("Gagal mengambil detail catatan:",t),alert(`Gagal mengambil detail catatan: ${t.message}`),null}}async editNote(e,n,a){try{const r=await fetch(`${t}/notes/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`},body:JSON.stringify({title:n,body:a})}),o=await r.json();if("success"!==o.status)throw new Error(o.message);return o.data}catch(t){return console.error("Gagal mengedit catatan:",t),alert(`Gagal mengedit catatan: ${t.message}`),null}}async archiveNote(e){try{const n=await fetch(`${t}/notes/${e}/archive`,{method:"POST",headers:{Authorization:`Bearer ${this.authToken}`}}),a=await n.json();if("success"!==a.status)throw new Error(a.message);return!0}catch(t){return console.error("Gagal mengarsipkan catatan:",t),alert(`Gagal mengarsipkan catatan: ${t.message}`),!1}}async unarchiveNote(e){try{const n=await fetch(`${t}/notes/${e}/unarchive`,{method:"POST",headers:{Authorization:`Bearer ${this.authToken}`}}),a=await n.json();if("success"!==a.status)throw new Error(a.message);return!0}catch(t){return console.error("Gagal mengembalikan catatan dari arsip:",t),alert(`Gagal mengembalikan catatan dari arsip: ${t.message}`),!1}}async deleteNote(e){try{const n=await fetch(`${t}/notes/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.authToken}`}}),a=await n.json();if("success"!==a.status)throw new Error(a.message);return!0}catch(t){return console.error("Gagal menghapus catatan:",t),alert(`Gagal menghapus catatan: ${t.message}`),!1}}};var a=n(72),r=n.n(a),o=n(825),i=n.n(o),s=n(659),d=n.n(s),c=n(56),l=n.n(c),u=n(540),h=n.n(u),p=n(113),m=n.n(p),f=n(249),b={};b.styleTagTransform=m(),b.setAttributes=l(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=h(),r()(f.A,b),f.A&&f.A.locals&&f.A.locals;const g=document.getElementById("notes-container"),y=document.getElementById("archived-container"),v=document.getElementById("loadingIndicator");let x=[],w=[];function k(){v.style.display="block"}function E(){v.style.display="none"}async function A(){k();try{const t=await e.getNotes();t&&t.notes?(x=t.notes.filter((t=>!t.archived)),w=t.notes.filter((t=>t.archived))):(x=[],w=[],console.warn("Data notes tidak ditemukan dalam respons API")),g.innerHTML="",0!==x.length?x.forEach((t=>{const e=document.createElement("note-item");e.setAttribute("id",t.id),e.setAttribute("title",t.title),e.setAttribute("body",t.body),e.setAttribute("date",new Date(t.createdAt).toLocaleDateString()),e.setAttribute("isArchived","false"),g.appendChild(e)})):g.innerHTML="<p>Tidak ada catatan.</p>",y.innerHTML="",0!==w.length?w.forEach((t=>{const e=document.createElement("note-item");e.setAttribute("id",t.id),e.setAttribute("title",t.title),e.setAttribute("body",t.body),e.setAttribute("date",new Date(t.createdAt).toLocaleDateString()),e.setAttribute("isArchived","true"),y.appendChild(e)})):y.innerHTML="<p>Tidak ada catatan terarsip.</p>"}catch(t){console.error("Error fetching notes:",t),g.innerHTML=`<p class="error-message">Gagal memuat catatan: ${t.message}</p>`,y.innerHTML=`<p class="error-message">Gagal memuat catatan terarsip: ${t.message}</p>`}finally{E()}}document.addEventListener("add-note",(async t=>{const{title:n,body:a}=t.detail;k();try{await e.addNote(n,a),await A()}catch(t){console.error("Error adding note:",t)}finally{E()}})),document.addEventListener("delete-note",(async t=>{const n=t.detail;if(confirm("Anda yakin ingin menghapus catatan ini?")){k();try{await e.deleteNote(n),await A()}catch(t){console.error("Error deleting note:",t)}finally{E()}}})),document.addEventListener("toggle-archive-note",(async t=>{const{id:n,isArchived:a}=t.detail;k();try{a?await e.unarchiveNote(n):await e.archiveNote(n),await A()}catch(t){console.error("Error archiving/unarchiving note:",t)}finally{E()}})),document.addEventListener("edit-note",(t=>{const{id:e,title:n,body:a}=t.detail,r=document.createElement("edit-modal");r.setAttribute("id",e),r.setAttribute("title",n),r.setAttribute("body",a),document.body.appendChild(r)})),document.addEventListener("save-edit",(async t=>{const{id:n,title:a,body:r}=t.detail;k();try{await e.editNote(n,a,r),await A()}catch(t){console.error("Error editing note:",t)}finally{E()}})),document.addEventListener("DOMContentLoaded",(()=>{A()}))})()})();